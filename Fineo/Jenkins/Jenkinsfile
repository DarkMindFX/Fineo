pipeline {
    agent any 
	environment {
		CONFIG = 'Release'
		PLATFORM = 'Any CPU'
		BUILD_NUMBER = '101'
	}
    stages {
        stage('Stage - Start') {
            steps {
                echo 'Pipeline started' 
            }
        }
		stage('Restore Nuget') {
			steps {
				bat 'dotnet restore Fineo\\Fineo.sln'
			}
		}
		stage('Build') {
			steps {
				bat "\"${tool 'MSBuild'}\" ${WORKSPACE}\\Fineo\\Fineo.sln /p:Configuration=${env.CONFIG} /p:Platform=${env.PLATFORM} /p:ProductionVersion=1.0.0.${env.BUILD_NUMBER}"
			}
		}
		
    }
}