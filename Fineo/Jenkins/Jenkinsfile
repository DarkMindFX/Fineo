pipeline {
    agent any 
	environment {
		MSBUILD = '"C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\MSBuild\Current\Bin\"'
		CONFIG = 'Release'
		PLATFORM = 'x64'
	}
    stages {
        stage('Stage - Start') {
            steps {
                echo 'Pipeline started' 
            }
        }
		stage('Restore Nuget') {
			steps {
				bat 'dotnet restore Fineo\\Fineo.sln'
			}
		}
		stage('MSBuild') {
			steps {
				bat "\"${MSBUILD}\" ${WORKSPACE}\Fineo\Fineo.sln /p:Configuration=${env.CONFIG};Platform=${env.PLATFORM} /nodeReuse:false"
			}
		}
		
    }
}